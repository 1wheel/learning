dat
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
}
corr("specdata", 150)
)))
sdf
12
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## print(directory)
files_list <- list.files('specdata', pattern="*.csv", full.names=TRUE)
dat <- data.frame()
for (file in files_list){
obs <- read.csv(file)
if (sum(complete.cases(obs))[1] >= threshold){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## print(directory)
files_list <- list.files('specdata', pattern="*.csv", full.names=TRUE)
dat <- data.frame()
for (file in files_list){
obs <- read.csv(file)
print (complete.cases(obs))
if (sum(complete.cases(obs))[1] >= threshold){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## print(directory)
files_list <- list.files('specdata', pattern="*.csv", full.names=TRUE)
dat <- data.frame()
for (file in files_list){
obs <- read.csv(file)
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
for (file in files_list){
obs <- read.csv(file)
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
}
corr("specdata", 150)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
for (i in id){
nobs <- sum(complete.cases(read.csv(files_list[i])))
dat <- rbind(dat, c(i, nobs))
}
colnames(dat) <- c('id', 'nobs')
dat
}
complete("specdata", c(2, 4, 8, 10, 12))
c2 <- function(directory, id = 1:332) {
threshold <- 0
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
dat <- data.frame()
for (file in files_list){
obs <- read.csv(file)
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
}
c2("specdata", c(2, 4, 8, 10, 12))
c2 <- function(directory, id = 1:332) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
dat <- data.frame()
for (file in files_list){
obs <- read.csv(file)
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
}
c2("specdata", c(2, 4, 8, 10, 12))
c2 <- function(directory, id = 1:332) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
dat <- data.frame()
for (file in files_list){
obs <- read.csv(file)
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= 0){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
}
c2("specdata", c(2, 4, 8, 10, 12))
c2 <- function(directory, id = 1:332) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
dat <- data.frame()
for (file in files_list){
obs <- read.csv(file)
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= 0){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
}
c2("specdata", c(2, 4, 8, 10, 12))
c2 <- function(directory, id = 1:332) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
dat <- data.frame()
dat
}
c2("specdata", c(2, 4, 8, 10, 12))
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
dat <- data.frame()
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
dat <- rbind(dat, corr(obs$nitrate, obs$sulfate))
}
}
dat
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
cr <- rbind(cr, corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
prints(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
cr <- rbind(cr, corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
prints(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
cr <- rbind(cr, corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
cr <- rbind(cr, corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
##cr <- rbind(cr, corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
cr <- c(cr, corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
cr <- c(cr, i)##corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
print(corr(obs$nitrate, obs$sulfate))
cr <- c(cr, i)##corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(i)
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
if (sum(complete.cases(obs))[1] >= threshold){
print(corr(obs$nitrate, obs$sulfate))
cr <- c(cr, i)##corr(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(i)
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
#     if (sum(complete.cases(obs))[1] >= threshold){
#       print(corr(obs$nitrate, obs$sulfate))
#       cr <- c(cr, i)##corr(obs$nitrate, obs$sulfate))
#     }
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(i)
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
print(corr(obs$nitrate, obs$sulfate))
#     if (sum(complete.cases(obs))[1] >= threshold){
#       print(corr(obs$nitrate, obs$sulfate))
#       cr <- c(cr, i)##corr(obs$nitrate, obs$sulfate))
#     }
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(i)
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
print(cor(obs$nitrate, obs$sulfate))
#     if (sum(complete.cases(obs))[1] >= threshold){
#       print(corr(obs$nitrate, obs$sulfate))
#       cr <- c(cr, i)##corr(obs$nitrate, obs$sulfate))
#     }
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(i)
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
print(cor(obs$nitrate, obs$sulfate))
if (sum(complete.cases(obs))[1] >= threshold){
print(corr(obs$nitrate, obs$sulfate))
cr <- c(cr, cor(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
print(i)
print(files_list[i])
obs <- read.csv(files_list[i])
print (sum(complete.cases(obs)))
print(cor(obs$nitrate, obs$sulfate))
if (sum(complete.cases(obs))[1] >= threshold){
cr <- c(cr, cor(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
if (sum(complete.cases(obs))[1] >= threshold){
cr <- c(cr, cor(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
if (sum(complete.cases(obs))[1] >= threshold){
print(cor(obs$sulfate, obs$nitrate))
cr <- c(cr, cor(obs$nitrate, obs$sulfate))
}
}
cr
}
corr("specdata", 150)
obs = read.csv('specdata/222.csv')
obs$sulfate
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
if (sum(complete.cases(obs))[1] >= threshold){
cr <- c(cr, cor(obs$nitrate, obs$sulfate, na.rm = TRUE))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
if (sum(complete.cases(obs))[1] >= threshold){
cr <- c(cr, cor(x = obs$nitrate, y = obs$sulfate, na.rm = TRUE))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
obs <- na.omit(obs)
if (sum(complete.cases(obs))[1] >= threshold){
cr <- c(cr, cor(x = obs$nitrate, y = obs$sulfate))
}
}
cr
}
corr("specdata", 150)
corr <- function(directory, threshold = 0) {
files_list <- list.files(directory, pattern="*.csv", full.names=TRUE)
cr <- vector(mode='numeric')
for (i in 1:length(files_list)){
obs <- read.csv(files_list[i])
obs <- na.omit(obs)
if (sum(complete.cases(obs)) >= threshold){
cr <- c(cr, cor(x = obs$nitrate, y = obs$sulfate))
}
}
cr
}
corr("specdata", 150)
submit()
submit()
sumbit()
submit()
library(iris)
library(datasets)
summary(iris)
data(iris)
?iris
expr[expr$cell_type == "hesc", ]
virg  <- iris[iris$Species == 'virginica']
subset(expr, cell_type == "hesc")
virg  <- iris[iris$Species == 'virginica',]
summary(iris)
apply(iris[, 1:4], 1, mean)
apply(iris[, 1:4], 2, mean)
library(datasets)
data(mtcars)
summary(virg)
View(virg)
View(virg)
?mtcars
tapply(mtcars$mpg, mtcars$cyl, mean)
tapply(mtcars$cyl, mtcars$mpg, mean)
tapply(mtcars$mpg, mtcars$cyl, mean)
tapply(mtcars$hp, mtcars$cyl, mean)
hp  <- tapply(mtcars$hp, mtcars$cyl, mean)
hp[3] - hp[1]
debug(ls)
ls
ls()
